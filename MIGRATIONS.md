# üîÑ –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ —Å `force: true`**

### **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ —Ä–∞–Ω—å—à–µ:**
```javascript
await sequelize.sync({ force: true });
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
1. **DROP TABLE** - —É–¥–∞–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É
2. **CREATE TABLE** - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É
3. **–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è** ‚ùå

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π**

### **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:**
```javascript
await sequelize.sync({ force: false }); // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
await runMigrations(); // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
1. **ALTER TABLE** - –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏
2. **–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** ‚úÖ
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã** ‚úÖ

## üìÅ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∏–≥—Ä–∞—Ü–∏–π**

```
dashboard/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ migrate.js          # –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ 001-add-type-and-healthcheck.js  # –ú–∏–≥—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ database.js         # –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üõ†Ô∏è **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –º–∏–≥—Ä–∞—Ü–∏–∏**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫:**
```sql
SELECT column_name 
FROM information_schema.columns 
WHERE table_name = 'Servers' 
AND column_name IN ('type', 'healthcheck')
```

### **2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫:**
```sql
-- –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–ª–æ–Ω–∫–∏ –Ω–µ—Ç
ALTER TABLE "Servers" 
ADD COLUMN "type" VARCHAR(255) DEFAULT '–î—Ä—É–≥–æ–µ' NOT NULL;

ALTER TABLE "Servers" 
ADD COLUMN "healthcheck" VARCHAR(255);
```

### **3. –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π:**
```sql
ALTER TABLE "Servers" DROP COLUMN IF EXISTS "healthcheck";
ALTER TABLE "Servers" DROP COLUMN IF EXISTS "type";
```

## üöÄ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**

### **‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:**
- –î–∞–Ω–Ω—ã–µ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ö–µ–º—ã
- –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### **‚úÖ –ì–∏–±–∫–æ—Å—Ç—å:**
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î

### **‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:**
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìã **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏**

### **–ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π:**
```bash
node scripts/migrate.js
```

### **–û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π:**
```javascript
const { rollbackMigrations } = require('./scripts/migrate');
await rollbackMigrations();
```

## üîß **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π**

### **1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏:**
```javascript
// migrations/002-add-new-field.js
module.exports = {
  up: async (queryInterface, Sequelize) => {
    await queryInterface.addColumn('Servers', 'newField', {
      type: DataTypes.STRING,
      allowNull: true
    });
  },
  down: async (queryInterface, Sequelize) => {
    await queryInterface.removeColumn('Servers', 'newField');
  }
};
```

### **2. –î–æ–±–∞–≤—å—Ç–µ –≤ —Å–ø–∏—Å–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π:**
```javascript
// scripts/migrate.js
const migrations = [
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
  {
    name: '002-add-new-field',
    up: async () => { /* –ª–æ–≥–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ */ },
    down: async () => { /* –ª–æ–≥–∏–∫–∞ –æ—Ç–∫–∞—Ç–∞ */ }
  }
];
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏:
- ‚úÖ **–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è**
- ‚úÖ **–°—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ**
- ‚úÖ **–ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è**
- ‚úÖ **–ì–æ—Ç–æ–≤–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**
