<div xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" th:fragment="serversTable(servers, isAuthenticated)">
    <div th:if="${#lists.isEmpty(servers)}" class="text-center text-muted py-4">
        <i class="fas fa-server fa-3x mb-3"></i>
        <p>Нет добавленных серверов</p>
        <button th:if="${isAuthenticated == true}" class="btn btn-primary" onclick="openSidebar()">Добавить сервер</button>
    </div>
    <div th:unless="${#lists.isEmpty(servers)}" class="table-responsive p-3">
        <table id="serversTable" class="table table-hover mb-0">
            <thead>
                <tr>
                    <th>Название</th>
                    <th>URL</th>
                    <th>Тип</th>
                    <th>Версия</th>
                    <th>Статус</th>
                    <th>Последняя проверка</th>
                    <th>Дата добавления</th>
                    <th th:if="${isAuthenticated == true}">Действия</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="server : ${servers}">
                    <td><strong th:text="${server.name}">-</strong></td>
                    <td th:text="${server.url}">-</td>
                    <td><span class="badge bg-info" th:text="${server.type}">-</span></td>
                    <td>
                        <span th:if="${server.version != null}" class="badge bg-secondary" th:text="${server.version}">-</span>
                        <span th:if="${server.version == null}" class="text-muted">-</span>
                    </td>
                    <td>
                        <span th:if="${server.status.name() == 'ONLINE'}" class="badge bg-success" th:text="${server.status}">-</span>
                        <span th:if="${server.status.name() == 'OFFLINE'}" class="badge bg-danger" th:text="${server.status}">-</span>
                        <span th:if="${server.status.name() != 'ONLINE' and server.status.name() != 'OFFLINE'}" class="badge bg-secondary" th:text="${server.status}">-</span>
                    </td>
                    <td th:text="${server.lastChecked != null ? #temporals.format(server.lastChecked, 'dd.MM.yyyy HH:mm:ss') : '-'}">-</td>
                    <td th:text="${server.createdAt != null ? #temporals.format(server.createdAt, 'dd.MM.yyyy HH:mm:ss') : '-'}">-</td>
                    <td th:if="${isAuthenticated == true}">
                        <button class="btn btn-sm btn-outline-danger" th:onclick="'deleteServer(' + ${server.id} + ')'" title="Удалить сервер">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
